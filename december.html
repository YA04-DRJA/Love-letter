<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Our December, Together</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500&display=swap" rel="stylesheet" />
  <style>
    body { font-family: 'Poppins', sans-serif; background-color: #fff7f7; color: #111827; margin: 0; padding: 2rem; transition: background-image 0.5s ease-in-out; }
    .hidden { display: none; }

    /* Buttons */
    button, .btn-primary, .btn-secondary, .btn-choice {
      background-color: #e86b6b; color: white; padding: 0.8rem 1.5rem; border: none; border-radius: 12px;
      font-weight: bold; cursor: pointer; transition: all 0.3s ease; font-family: 'Poppins', sans-serif;
    }
    button:hover, .btn-primary:hover, .btn-choice:hover { background-color: #d35a5a; transform: translateY(-2px); box-shadow: 0 4px 15px rgba(232, 107, 107, 0.4); }

    body.december-page {
      background-image: url('https://res.cloudinary.com/dimqqmfx6/image/upload/v1762841028/generated_flux_3169_1762841027_0_gcs2tw.png');
      background-size: cover; background-position: center center; background-attachment: fixed;
      display: flex; align-items: center; justify-content: center; min-height: 100vh;
    }

    .wizard-container { width: 100%; max-width: 760px; }
    .wizard-step { display: none; animation: fadeIn 0.8s ease-in-out; }
    .wizard-step.active-step { display: block; }

    .wizard-card {
      background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); padding: 3rem; border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1); text-align: left;
    }
    .wizard-card h1, .wizard-card h2 { font-family: 'Playfair Display', serif; text-align: center; color: #111827; font-size: 2.8rem; margin-bottom: 1.5rem; }
    .wizard-card h2 { font-size: 2.2rem; }
    .wizard-card p { color: #6b7280; line-height: 1.6; text-align: center; margin-bottom: 2rem; }
    .wizard-card p.question { font-weight: bold; color: #111827; margin-bottom: 1rem; text-align: left; }
    .wizard-card p.hint { font-size: 0.9rem; text-align: center; margin-top: 2rem; margin-bottom: 0; }

    .badge { display:inline-block; font-size: 0.85rem; color:#e86b6b; background:#fff; border:1px solid #f4c9c9; border-radius:999px; padding:6px 12px; margin-bottom: 12px; }

    .button-group { display: flex; justify-content: center; gap: 1rem; flex-wrap: wrap; }
    .button-group .btn-choice { flex-grow: 1; }

    .nav-buttons { display: flex; justify-content: space-between; margin-top: 2rem; border-top: 1px solid #f1f1f1; padding-top: 2rem; }
    .btn-secondary { background-color: transparent; color: #e86b6b; border: 1px solid #f4c9c9; }
    .btn-secondary:hover { background-color: #fff7f7; color: #e86b6b; box-shadow: none; transform: translateY(0); }

    .form-group { margin-bottom: 1.25rem; }
    .form-group label { display: block; background: #fff; padding: 1rem; border: 1px solid #f1f1f1; border-radius: 12px; margin-bottom: 0.5rem; cursor: pointer; transition: all 0.2s ease; }
    .form-group label:hover { border-color: #f4c9c9; background: #fff7f7; }
    .form-group input[type="radio"], .form-group input[type="checkbox"] { margin-right: 0.8rem; }
    .form-group input[type="text"], .form-group select, .form-group textarea { width: 100%; padding: 0.8rem 1rem; border: 1px solid #e6e6e6; border-radius: 12px; margin-top: 0.5rem; font-family: 'Poppins', sans-serif; }
    .form-group textarea { min-height: 100px; resize: vertical; }

    /* Getaway sub-options */
    .trip-choice small { display:block; color:#6b7280; margin-top:4px; }
    .trip-options { padding: 12px 16px; margin: 6px 0 18px 36px; border-left: 2px solid #f4c9c9; }
    .sub-question { margin: 0 0 8px; font-weight: 600; color:#111827; }
    .sub-row { display: flex; gap: 10px; align-items: center; margin: 10px 0; flex-wrap: wrap; }
    .sub-row input[type="text"], .sub-row select { padding: 8px 10px; border:1px solid #e6e6e6; border-radius:10px; }

    /* Heartfelt box */
    .heart-box { border:1px solid #f4c9c9; background:#fff; border-radius:12px; padding:16px; margin:16px 0; }
    .heart-box p { margin: 0 0 8px; color:#6b7280; line-height:1.6; }
    .heart-box p:first-child, .heart-box p:last-child { color:#111827; font-weight:600; }
    .heart-box p:last-child { margin-bottom: 0; }

    /* Commitment list */
    .commitment-list { background:#fff; border:1px solid #f4c9c9; border-radius:12px; padding:16px; margin:16px 0; }
    .commitment-list p { margin:0 0 12px; color:#111827; font-weight:600; text-align:left; }
    .commitment-list ul { margin:0; padding-left:20px; list-style:none; }
    .commitment-list li { margin:8px 0; color:#6b7280; line-height:1.6; position:relative; padding-left:24px; }
    .commitment-list li:before { content:"✓"; position:absolute; left:0; color:#e86b6b; font-weight:bold; }

    /* Safety check-in */
    .safety-checkin { margin-top:1.5rem; padding-top:1.5rem; border-top:1px solid #f1f1f1; }
    .safety-checkin label { font-size:0.9rem; color:#6b7280; display:block; margin-bottom:0.5rem; text-align:left; }
    .safety-checkin textarea { width:100%; padding:0.8rem; border:1px solid #e6e6e6; border-radius:12px; font-family:'Poppins',sans-serif; min-height:80px; }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body class="december-page">
  <div id="december-wizard" class="wizard-container">

    <!-- Hidden registration form so Netlify detects the form at build time -->
    <form name="december-plan" netlify netlify-honeypot="bot-field" hidden>
      <input type="text" name="feeling_about_december" />
      <input type="text" name="feeling_other" />
      <input type="text" name="tree-theme" />
      <input type="text" name="tree-theme-other" />
      <input type="text" name="tree-budget" />
      <input type="text" name="tree_safety_checkin" />
      <input type="text" name="getaway" />
      <input type="text" name="getaway-other" />
      <input type="text" name="trip-quick-range" />
      <input type="text" name="trip-start" />
      <input type="text" name="trip-end" />
      <input type="text" name="trip-duration" />
      <input type="text" name="trip-duration-other" />
      <input type="text" name="getaway_safety_checkin" />
      <input type="text" name="windsor_sleep" />
      <input type="text" name="windsor_what_makes_safe" />
      <input type="text" name="windsor_safety_checkin" />
      <input type="text" name="anything_else_on_mind" />
    </form>

    <!-- Visible, multi-step form -->
    <form id="december-form" name="december-plan" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/thank-you.html" novalidate>
      <input type="hidden" name="form-name" value="december-plan" />
      <p class="hidden"><label>Don't fill this out if you're human: <input name="bot-field" /></label></p>

      <!-- Step 0 -->
      <div id="step-0" class="wizard-step active-step">
        <div class="wizard-card">
          <h1>Our December, Together.</h1>
          <p>This isn't just about Christmas—it's about us. About creating a month of peace and quiet joy that feels like coming home. I want to build it all around you, to make the small things easy and the quiet things warm. This is my promise. Let's plan a soft December that feels just like us.</p>
          
          <!-- Emotional check-in -->
          <div class="form-group" style="margin-bottom:2rem;">
            <p class="question">Before we plan anything, I want to check in: How are you feeling about the idea of spending December together?</p>
            <label><input type="radio" name="feeling_about_december" value="Excited"> Excited</label>
            <label><input type="radio" name="feeling_about_december" value="A little nervous"> A little nervous</label>
            <label><input type="radio" name="feeling_about_december" value="Unsure"> Unsure</label>
            <label><input type="radio" name="feeling_about_december" value="I have some concerns I want to talk about first"> I have some concerns I want to talk about first</label>
            <label><input type="radio" name="feeling_about_december" value="Other"> Other:</label>
            <textarea name="feeling_other" placeholder="Tell me how you're feeling (optional)..." style="margin-top:0.5rem;"></textarea>
          </div>

          <p class="question">Will you be willing to come and spend December with me?</p>
          <div class="button-group">
            <button type="button" class="btn-choice" data-next-step="1">Yes, I'd love to</button>
            <button type="button" class="btn-choice" data-next-step="1">Yes, of course!</button>
            <button type="button" class="btn-choice" data-next-step="1">A thousand times, yes!</button>
          </div>
          <p class="hint">Hint: The work holiday party is on December 6th, and they allow plus ones!</p>
        </div>
      </div>

      <!-- Step 1: Our Tree -->
      <div id="step-1" class="wizard-step">
        <div class="wizard-card">
          <h2>Our First Christmas Tree</h2>
          <div class="form-group">
            <p class="question">What should our theme be?</p>
            <label><input type="radio" name="tree-theme" value="Classic Reds & Golds"> Classic Reds & Golds</label>
            <label><input type="radio" name="tree-theme" value="Winter Whites & Silvers"> Winter Whites & Silvers</label>
            <label><input type="radio" name="tree-theme" value="A Mix of Everything"> A Mix of Everything Beautiful</label>
            <label><input type="radio" name="tree-theme" value="Other"> Something Else Entirely:</label>
            <input type="text" name="tree-theme-other" placeholder="Your beautiful vision here...">
          </div>
          <div class="form-group">
            <p class="question">What feels right for our tree & decorations budget?</p>
            <label><input type="radio" name="tree-budget" value="$500"> $500</label>
            <label><input type="radio" name="tree-budget" value="$750"> $750</label>
            <label><input type="radio" name="tree-budget" value="$1000"> $1000</label>
            <label><input type="radio" name="tree-budget" value="$1250"> $1250</label>
          </div>

          <!-- Safety check-in -->
          <div class="safety-checkin">
            <label>Does anything about this step feel off or uncomfortable? Tell me here (optional):</label>
            <textarea name="tree_safety_checkin" placeholder="I'm listening..."></textarea>
          </div>

          <div class="nav-buttons">
            <button type="button" class="btn-secondary" data-prev-step="0">Back</button>
            <button type="button" class="btn-primary" data-next-step="2">Next</button>
          </div>
        </div>
      </div>

      <!-- Step 2: Our Christmas Getaway -->
      <div id="step-2" class="wizard-step">
        <div class="wizard-card">
          <h2>Our Christmas Getaway</h2>

          <div class="form-group">
            <!-- NYC -->
            <label class="trip-choice">
              <input type="radio" name="getaway" value="New York City">
              <strong>New York City</strong>
              <small>We could re-create our 2023 Christmas day trip, but this time, wandering the sparkling streets as husband and wife.</small>
            </label>
            <div class="trip-options hidden">
              <p class="sub-question">When would you like to go?</p>
              <label><input type="radio" name="trip-quick-range" value="Dec 23–27"> Dec 23–27</label>
              <label><input type="radio" name="trip-quick-range" value="Dec 27–30"> Dec 27–30</label>
              <label><input type="radio" name="trip-quick-range" value="Dec 30–Jan 2"> Dec 30–Jan 2</label>
              <div class="sub-row">
                <span>Or choose your own:</span>
                <input type="text" name="trip-start" placeholder="Start (e.g., Dec 23)">
                <input type="text" name="trip-end" placeholder="End (e.g., Dec 27)">
              </div>
              <div class="sub-row">
                <label for="trip-duration">Preferred duration</label>
                <select id="trip-duration" name="trip-duration">
                  <option value="">Choose…</option>
                  <option value="2 days">2 days</option>
                  <option value="3 days">3 days</option>
                  <option value="4 days">4 days</option>
                  <option value="5 days">5 days</option>
                  <option value="Other">Other (specify below)</option>
                </select>
                <input type="text" name="trip-duration-other" placeholder="If 'Other', tell me how many days">
              </div>
            </div>

            <!-- Montreal -->
            <label class="trip-choice">
              <input type="radio" name="getaway" value="Montréal">
              <strong>Montréal</strong>
              <small>Imagine walking through the cobblestone streets of Old Montréal, with European Christmas markets and a magical, snowy atmosphere.</small>
            </label>
            <div class="trip-options hidden">
              <p class="sub-question">When would you like to go?</p>
              <label><input type="radio" name="trip-quick-range" value="Dec 23–27"> Dec 23–27</label>
              <label><input type="radio" name="trip-quick-range" value="Dec 27–30"> Dec 27–30</label>
              <label><input type="radio" name="trip-quick-range" value="Dec 30–Jan 2"> Dec 30–Jan 2</label>
              <div class="sub-row">
                <span>Or choose your own:</span>
                <input type="text" name="trip-start" placeholder="Start (e.g., Dec 23)">
                <input type="text" name="trip-end" placeholder="End (e.g., Dec 27)">
              </div>
              <div class="sub-row">
                <label for="trip-duration-2">Preferred duration</label>
                <select id="trip-duration-2" name="trip-duration">
                  <option value="">Choose…</option>
                  <option value="2 days">2 days</option>
                  <option value="3 days">3 days</option>
                  <option value="4 days">4 days</option>
                  <option value="5 days">5 days</option>
                  <option value="Other">Other (specify below)</option>
                </select>
                <input type="text" name="trip-duration-other" placeholder="If 'Other', tell me how many days">
              </div>
            </div>

            <!-- Québec City -->
            <label class="trip-choice">
              <input type="radio" name="getaway" value="Québec City">
              <strong>Québec City</strong>
              <small>It's like stepping into a real-life Dickens village, incredibly romantic and festive. Known as the most Christmassy city in Canada.</small>
            </label>
            <div class="trip-options hidden">
              <p class="sub-question">When would you like to go?</p>
              <label><input type="radio" name="trip-quick-range" value="Dec 23–27"> Dec 23–27</label>
              <label><input type="radio" name="trip-quick-range" value="Dec 27–30"> Dec 27–30</label>
              <label><input type="radio" name="trip-quick-range" value="Dec 30–Jan 2"> Dec 30–Jan 2</label>
              <div class="sub-row">
                <span>Or choose your own:</span>
                <input type="text" name="trip-start" placeholder="Start (e.g., Dec 23)">
                <input type="text" name="trip-end" placeholder="End (e.g., Dec 27)">
              </div>
              <div class="sub-row">
                <label for="trip-duration-3">Preferred duration</label>
                <select id="trip-duration-3" name="trip-duration">
                  <option value="">Choose…</option>
                  <option value="2 days">2 days</option>
                  <option value="3 days">3 days</option>
                  <option value="4 days">4 days</option>
                  <option value="5 days">5 days</option>
                  <option value="Other">Other (specify below)</option>
                </select>
                <input type="text" name="trip-duration-other" placeholder="If 'Other', tell me how many days">
              </div>
            </div>

            <!-- Somewhere else -->
            <label class="trip-choice">
              <input type="radio" name="getaway" value="Other">
              <strong>Somewhere Else?</strong>
            </label>
            <div class="trip-options hidden">
              <div class="sub-row">
                <input type="text" name="getaway-other" placeholder="Where is your heart telling you to go?">
              </div>
              <p class="sub-question">When would you like to go?</p>
              <label><input type="radio" name="trip-quick-range" value="Dec 23–27"> Dec 23–27</label>
              <label><input type="radio" name="trip-quick-range" value="Dec 27–30"> Dec 27–30</label>
              <label><input type="radio" name="trip-quick-range" value="Dec 30–Jan 2"> Dec 30–Jan 2</label>
              <div class="sub-row">
                <span>Or choose your own:</span>
                <input type="text" name="trip-start" placeholder="Start (e.g., Dec 23)">
                <input type="text" name="trip-end" placeholder="End (e.g., Dec 27)">
              </div>
              <div class="sub-row">
                <label for="trip-duration-4">Preferred duration</label>
                <select id="trip-duration-4" name="trip-duration">
                  <option value="">Choose…</option>
                  <option value="2 days">2 days</option>
                  <option value="3 days">3 days</option>
                  <option value="4 days">4 days</option>
                  <option value="5 days">5 days</option>
                  <option value="Other">Other (specify below)</option>
                </select>
                <input type="text" name="trip-duration-other" placeholder="If 'Other', tell me how many days">
              </div>
            </div>
          </div>

          <!-- Safety check-in -->
          <div class="safety-checkin">
            <label>Does anything about this step feel off or uncomfortable? Tell me here (optional):</label>
            <textarea name="getaway_safety_checkin" placeholder="I'm listening..."></textarea>
          </div>

          <div class="nav-buttons">
            <button type="button" class="btn-secondary" data-prev-step="1">Back</button>
            <button type="button" class="btn-primary" data-next-step="3">Next</button>
          </div>
        </div>
      </div>

      <!-- Step 3: Sleep plan that feels safe to you -->
      <div id="step-3" class="wizard-step">
        <div class="wizard-card">
          <span class="badge">Your comfort comes first.</span>
          <h2>Sleep plan that feels safe to you</h2>
          <p>Whatever you choose here, I'll handle it. No pressure. Let's decide this together when you arrive, if that's easier.</p>

          <!-- Heartfelt note block -->
          <div class="heart-box">
            <p>Hey my love,</p>
            <p>
              About yesterday. I was genuinely excited to make this for you as a surprise. I see now that it felt to you like I was trying to convince you of something. That wasn't my intention, and I'm sorry it landed that way.
            </p>
            <p>
              I want you to feel safe, heard, and protected with me. Your feelings matter to me—a lot. I don't think they're silly. I care about you and about your heart, and I'm committed to doing this the right way with you.
            </p>
            <p>
              If any part of what I said made you feel pushed, I'm sorry. I'm here to listen and to make December gentle and calm for us. You come first.
            </p>
            <p>I love you.</p>
          </div>

          <!-- Commitment list -->
          <div class="commitment-list">
            <p>What I'm committing to:</p>
            <ul>
              <li>Your comfort comes first—always</li>
              <li>No guilt, no pressure, no convincing</li>
              <li>If something doesn't feel right, we change it—no questions asked</li>
              <li>I will protect your boundaries with my family</li>
              <li>December is about us, not about pleasing anyone else</li>
            </ul>
          </div>

          <div class="form-group">
            <label><input type="radio" name="windsor_sleep" value="Hotel"> A quiet hotel that feels private</label>
            <label><input type="radio" name="windsor_sleep" value="Airbnb"> A cozy Airbnb that's just ours</label>
            <label><input type="radio" name="windsor_sleep" value="Decide later"> I want to decide this later</label>
            <label><input type="radio" name="windsor_sleep" value="Mom's house"> My mom's house (only if you want this)</label>
          </div>

          <!-- Open question: What would make you feel safest? -->
          <div class="form-group" style="margin-top:1.5rem;">
            <p class="question">What would make you feel safest and most comfortable during our time in Windsor?</p>
            <p style="font-size:0.9rem; color:#6b7280; text-align:left; margin-bottom:0.5rem;">(This can be about where we stay, how we spend time, boundaries with family, or anything else.)</p>
            <textarea name="windsor_what_makes_safe" placeholder="Tell me what you need, in your own words..."></textarea>
          </div>

          <!-- Safety check-in -->
          <div class="safety-checkin">
            <label>Does anything about this step feel off or uncomfortable? Tell me here (optional):</label>
            <textarea name="windsor_safety_checkin" placeholder="I'm listening..."></textarea>
          </div>

          <p class="hint">Thank you for trusting me with this. I want you to feel safe with me—always.</p>

          <div class="nav-buttons">
            <button type="button" class="btn-secondary" data-prev-step="2">Back</button>
            <button type="button" class="btn-primary" data-next-step="4">Next</button>
          </div>
        </div>
      </div>

      <!-- Step 4: Your Voice Matters -->
      <div id="step-4" class="wizard-step">
        <div class="wizard-card">
          <h2>Your Voice Matters</h2>
          <p>Is there anything else on your mind about December? Anything that would make you feel more comfortable or excited?</p>
          
          <div class="form-group">
            <textarea name="anything_else_on_mind" placeholder="You can leave this blank if you want. I just want you to know: I'm listening." style="min-height:120px;"></textarea>
          </div>

          <div class="nav-buttons">
            <button type="button" class="btn-secondary" data-prev-step="3">Back</button>
            <button type="button" class="btn-primary" data-next-step="5">Next</button>
          </div>
        </div>
      </div>

      <!-- Step 5: Summary + Submit -->
      <div id="step-5" class="wizard-step">
        <div class="wizard-card">
          <h2>Our Perfect December Plan</h2>
          <p>Thank you for dreaming with me. I can't wait to make all of this a reality.</p>
          
          <!-- "You can change your mind anytime" reassurance -->
          <div style="background:#fff7f7; border:1px solid #f4c9c9; border-radius:12px; padding:16px; margin:16px 0;">
            <p style="margin:0 0 8px; color:#111827; font-weight:600; text-align:left;">You can change your mind about any of this—anytime.</p>
            <p style="margin:0; color:#6b7280; text-align:left; line-height:1.6;">This isn't set in stone. If something doesn't feel right later, we'll talk and adjust. I want you to feel good about December, not locked into a plan.</p>
          </div>

          <p class="hint">After you hit submit, all your choices will go to your Santa Claus (husband), and he will organize and plan everything just the way you want.</p>
          <div class="nav-buttons">
            <button type="button" class="btn-secondary" data-prev-step="4">Back</button>
            <button type="submit" class="btn-primary">Submit Our Plan</button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <!-- Scripts -->
  <script>
    // Step navigation
    document.addEventListener('DOMContentLoaded', function () {
      const wizard = document.getElementById('december-wizard');
      if (wizard) {
        const steps = wizard.querySelectorAll('.wizard-step');
        let currentStep = 0;
        const goToStep = (i) => {
          steps[currentStep].classList.remove('active-step');
          steps[i].classList.add('active-step');
          currentStep = i;
          window.scrollTo({ top: 0, behavior: 'smooth' });
        };
        wizard.addEventListener('click', function (e) {
          if (e.target.matches('[data-next-step]')) {
            goToStep(parseInt(e.target.getAttribute('data-next-step')));
          }
          if (e.target.matches('[data-prev-step]')) {
            goToStep(parseInt(e.target.getAttribute('data-prev-step')));
          }
        });
      }
    });

    // Helper to url-encode form data
    function encode(data) {
      return Object.keys(data)
        .map((k) => encodeURIComponent(k) + '=' + encodeURIComponent(data[k]))
        .join('&');
    }

    // Submit via JS to Netlify, then redirect manually
    const form = document.getElementById('december-form');
    if (form) {
      form.addEventListener('submit', function (e) {
        e.preventDefault();
        const formData = new FormData(form);
        const data = { 'form-name': form.getAttribute('name') };
        formData.forEach((value, key) => (data[key] = value));

        fetch('/', {
          method: 'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
          body: encode(data)
        })
          .then(() => { window.location.href = 'thank-you.html'; })
          .catch((err) => {
            console.error('Submission failed:', err);
            alert('Sorry, something went wrong submitting the form. Please try again.');
          });
      });
    }

    // Show/hide getaway sub-options
    document.addEventListener('DOMContentLoaded', function () {
      const tripChoices = document.querySelectorAll('.trip-choice input[name="getaway"]');
      function hideAllTripOptions() {
        document.querySelectorAll('.trip-options').forEach(el => el.classList.add('hidden'));
        document.querySelectorAll('input[name="trip-quick-range"]').forEach(r => r.checked = false);
      }
      tripChoices.forEach((radio) => {
        radio.addEventListener('change', () => {
          hideAllTripOptions();
          const optionsBlock = radio.closest('label.trip-choice').nextElementSibling;
          if (optionsBlock && optionsBlock.classList.contains('trip-options')) {
            optionsBlock.classList.remove('hidden');
          }
        });
      });
    });
  </script>
</body>
</html>